import{a as y}from"./chunk-FIC5CLRE.js";import{a as P}from"./chunk-35AIUHS3.js";import"./chunk-GMT66XAW.js";import"./chunk-CNTZWMNJ.js";import{j as v,k as S,l as I,m as A}from"./chunk-5ONXG5PY.js";import{$a as b,Ha as C,La as f,N as x,S as d,T as u,Ua as s,Va as n,Wa as i,ab as _,cb as p,hb as r,ib as h,jb as g,qb as E,ta as a}from"./chunk-GRGODEBP.js";var D=(o,e,t,m)=>({"badge-warning":o,"badge-success":e,"badge-error":t,"badge-info":m});function N(o,e){if(o&1){let t=b();n(0,"button",15),_("click",function(){d(t);let c=p().$implicit,l=p();return u(l.aprobar(c.id))}),r(1," \u2714 Aprobar "),i()}}function O(o,e){if(o&1){let t=b();n(0,"button",16),_("click",function(){d(t);let c=p().$implicit,l=p();return u(l.rechazar(c.id))}),r(1," \u2716 Rechazar "),i()}}function T(o,e){if(o&1){let t=b();n(0,"button",17),_("click",function(){d(t);let c=p().$implicit,l=p();return u(l.completar(c.id))}),r(1," \u2714 Completar "),i()}}function k(o,e){if(o&1&&(n(0,"tr")(1,"td",8),r(2),i(),n(3,"td"),r(4),i(),n(5,"td"),r(6),i(),n(7,"td",9),r(8),i(),n(9,"td")(10,"span",10),r(11),i()(),n(12,"td",11),f(13,N,2,0,"button",12)(14,O,2,0,"button",13)(15,T,2,0,"button",14),i()()),o&2){let t=e.$implicit;a(2),g(" ",t.clientName||t.usuario," "),a(2),h(t.fecha),a(2),h(t.hora),a(2),g(" ",t.mensaje||"\u2014"," "),a(2),s("ngClass",E(9,D,t.estado==="PENDIENTE",t.estado==="APROBADO",t.estado==="RECHAZADO",t.estado==="COMPLETADO")),a(),g(" ",t.estado," "),a(2),s("ngIf",t.estado==="PENDIENTE"),a(),s("ngIf",t.estado==="PENDIENTE"),a(),s("ngIf",t.estado==="APROBADO")}}function V(o,e){o&1&&(n(0,"tr")(1,"td",18),r(2," No tienes asesor\xEDas asignadas "),i()())}var w=class o{appointmentService=x(y);authService=x(P);asesorias=[];programmerId;ngOnInit(){let e=this.authService.getCurrentUser();this.programmerId=e.id,this.load()}load(){this.appointmentService.getByProgrammer(this.programmerId).subscribe(e=>this.asesorias=e)}aprobar(e){this.appointmentService.approve(e).subscribe(()=>this.load())}rechazar(e){this.appointmentService.reject(e).subscribe(()=>this.load())}completar(e){this.appointmentService.complete(e).subscribe(()=>this.load())}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["app-programmer-appointments"]],decls:22,vars:2,consts:[[1,"text-3xl","font-bold","mb-6","text-cyan-900"],[1,"card","bg-white","shadow-xl","p-6"],[1,"overflow-x-auto"],[1,"table","w-full"],[1,"text-cyan-900"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"font-medium"],[1,"max-w-xs","truncate"],[1,"badge",3,"ngClass"],[1,"flex","gap-2","justify-center"],["class","btn btn-sm btn-success",3,"click",4,"ngIf"],["class","btn btn-sm btn-error",3,"click",4,"ngIf"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-error",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"],["colspan","6",1,"text-center","text-gray-400","py-6"]],template:function(t,m){t&1&&(n(0,"h1",0),r(1,` \u{1F4C5} Mis Asesor\xEDas
`),i(),n(2,"div",1)(3,"div",2)(4,"table",3)(5,"thead")(6,"tr",4)(7,"th"),r(8,"Usuario"),i(),n(9,"th"),r(10,"Fecha"),i(),n(11,"th"),r(12,"Hora"),i(),n(13,"th"),r(14,"Mensaje"),i(),n(15,"th"),r(16,"Estado"),i(),n(17,"th",5),r(18,"Acciones"),i()()(),n(19,"tbody"),f(20,k,16,14,"tr",6)(21,V,3,0,"tr",7),i()()()()),t&2&&(a(20),s("ngForOf",m.asesorias),a(),s("ngIf",m.asesorias.length===0))},dependencies:[A,v,S,I],encapsulation:2})};export{w as ProgrammerAppointmentsComponent};
