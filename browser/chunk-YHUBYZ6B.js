import{a as R}from"./chunk-FIC5CLRE.js";import"./chunk-GMT66XAW.js";import"./chunk-CNTZWMNJ.js";import{j as g,k as x,l as b,m as h}from"./chunk-5ONXG5PY.js";import{Ha as u,La as S,N as f,Ua as s,Va as t,Wa as e,ab as p,cb as A,gb as d,hb as n,ib as m,jb as E,ta as r}from"./chunk-GRGODEBP.js";function _(l,i){if(l&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e(),t(7,"td"),n(8),e(),t(9,"td",8),n(10),e(),t(11,"td")(12,"span",9),n(13),e()()()),l&2){let a=i.$implicit,o=A();r(2),m(a.usuario),r(2),m(a.programador),r(2),m(a.fecha),r(2),m(a.hora),r(2),m(a.mensaje),r(2),s("ngClass",o.badgeEstado(a.estado)),r(),E(" ",a.estado," ")}}function C(l,i){l&1&&(t(0,"tr")(1,"td",10),n(2," No hay asesor\xEDas registradas "),e()())}var v=class l{appointmentService=f(R);appointments=[];filtro="ALL";ngOnInit(){this.loadAll()}loadAll(){this.appointmentService.getAll().subscribe(i=>{this.appointments=i.content})}cambiarFiltro(i){this.filtro=i,i==="ALL"&&this.loadAll(),i==="USERS"&&this.appointmentService.search({clientId:1}).subscribe(a=>{this.appointments=a.content}),i==="PROGRAMMERS"&&this.appointmentService.search({programmerId:1}).subscribe(a=>{this.appointments=a.content})}get appointmentsFiltradas(){return this.filtro==="USERS"?this.appointments.filter(i=>i.usuario):this.filtro==="PROGRAMMERS"?this.appointments.filter(i=>i.programador):this.appointments}badgeEstado(i){switch(i){case"ACEPTADA":return"badge-success";case"RECHAZADA":return"badge-error";default:return"badge-warning"}}static \u0275fac=function(a){return new(a||l)};static \u0275cmp=u({type:l,selectors:[["app-admin-appointments"]],decls:29,vars:8,consts:[[1,"flex","flex-col","gap-6"],[1,"text-3xl","font-bold","text-cyan-900"],[1,"flex","flex-wrap","gap-4"],[1,"btn","btn-outline",3,"click"],[1,"card","bg-white","shadow-xl","p-6","overflow-x-auto"],[1,"table","w-full","min-w-[900px]"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"max-w-xs","truncate"],[1,"badge",3,"ngClass"],["colspan","6",1,"text-center","text-gray-500"]],template:function(a,o){a&1&&(t(0,"section",0)(1,"h1",1),n(2," Gesti\xF3n de Asesor\xEDas "),e(),t(3,"div",2)(4,"button",3),p("click",function(){return o.cambiarFiltro("ALL")}),n(5," Todas "),e(),t(6,"button",3),p("click",function(){return o.cambiarFiltro("USERS")}),n(7," Usuarios "),e(),t(8,"button",3),p("click",function(){return o.cambiarFiltro("PROGRAMMERS")}),n(9," Programadores "),e()(),t(10,"div",4)(11,"table",5)(12,"thead")(13,"tr")(14,"th"),n(15,"Usuario"),e(),t(16,"th"),n(17,"Programador"),e(),t(18,"th"),n(19,"Fecha"),e(),t(20,"th"),n(21,"Hora"),e(),t(22,"th"),n(23,"Mensaje"),e(),t(24,"th"),n(25,"Estado"),e()()(),t(26,"tbody"),S(27,_,14,7,"tr",6)(28,C,3,0,"tr",7),e()()()()),a&2&&(r(4),d("btn-primary",o.filtro==="ALL"),r(2),d("btn-primary",o.filtro==="USERS"),r(2),d("btn-primary",o.filtro==="PROGRAMMERS"),r(19),s("ngForOf",o.appointmentsFiltradas),r(),s("ngIf",o.appointmentsFiltradas.length===0))},dependencies:[h,g,x,b],encapsulation:2})};export{v as AdminAppointmentsComponent};
