import{a as v}from"./chunk-35AIUHS3.js";import"./chunk-GMT66XAW.js";import{a as C,b as S,e as E,j as P}from"./chunk-WDPTFP3C.js";import{d as w}from"./chunk-WSS6HYK2.js";import"./chunk-CNTZWMNJ.js";import{l as _,m as M}from"./chunk-5ONXG5PY.js";import{Ha as b,La as f,N as u,Ua as g,Va as t,Wa as i,ab as y,cb as h,hb as s,jb as x,lb as d,mb as m,nb as p,ta as a}from"./chunk-GRGODEBP.js";function I(n,l){if(n&1&&(t(0,"div",15),s(1),i()),n&2){let o=h();a(),x(" ",o.errorMessage," ")}}function T(n,l){if(n&1&&(t(0,"div",16),s(1),i()),n&2){let o=h();a(),x(" ",o.successMessage," ")}}function W(n,l){n&1&&(t(0,"span"),s(1,"Registrarse"),i())}function F(n,l){n&1&&(t(0,"span"),s(1,"Creando..."),i())}var R=class n{name="";email="";password="";loading=!1;errorMessage="";successMessage="";authService=u(v);router=u(w);register(){if(!this.name||!this.email||!this.password){this.errorMessage="Todos los campos son obligatorios";return}this.loading=!0,this.errorMessage="",this.successMessage="",this.authService.register(this.name,this.email,this.password).subscribe({next:()=>{this.loading=!1,this.successMessage="Usuario registrado correctamente",setTimeout(()=>{this.router.navigate(["/login"])},1500)},error:l=>{this.loading=!1,l.status===409?this.errorMessage="El correo ya est\xE1 registrado":this.errorMessage="Error al registrar usuario"}})}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=b({type:n,selectors:[["app-register-page"]],decls:25,vars:8,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"bg-white","shadow-xl","rounded-2xl","p-10","w-full","max-w-md"],[1,"text-3xl","font-bold","text-center","text-cyan-900","mb-8"],["class","bg-red-100 text-red-600 p-3 rounded-lg mb-4 text-sm text-center",4,"ngIf"],["class","bg-green-100 text-green-600 p-3 rounded-lg mb-4 text-sm text-center",4,"ngIf"],[1,"mb-5"],[1,"block","mb-2","font-semibold","text-gray-700"],["type","text","placeholder","Tu nombre completo",1,"w-full","px-4","py-3","border","rounded-lg","focus:ring-2","focus:ring-cyan-700",3,"ngModelChange","ngModel"],["type","email","placeholder","ejemplo@email.com",1,"w-full","px-4","py-3","border","rounded-lg","focus:ring-2","focus:ring-cyan-700",3,"ngModelChange","ngModel"],[1,"mb-6"],["type","password","placeholder","********",1,"w-full","px-4","py-3","border","rounded-lg","focus:ring-2","focus:ring-cyan-700",3,"ngModelChange","ngModel"],[1,"w-full","bg-cyan-900","text-white","py-3","rounded-lg","font-semibold","hover:bg-cyan-800","transition",3,"click","disabled"],[4,"ngIf"],[1,"text-center","mt-6","text-sm"],["routerLink","/login",1,"text-cyan-900","font-semibold","hover:underline"],[1,"bg-red-100","text-red-600","p-3","rounded-lg","mb-4","text-sm","text-center"],[1,"bg-green-100","text-green-600","p-3","rounded-lg","mb-4","text-sm","text-center"]],template:function(o,e){o&1&&(t(0,"section",0)(1,"div",1)(2,"h2",2),s(3," Crear Cuenta "),i(),f(4,I,2,1,"div",3)(5,T,2,1,"div",4),t(6,"div",5)(7,"label",6),s(8," Nombre "),i(),t(9,"input",7),p("ngModelChange",function(r){return m(e.name,r)||(e.name=r),r}),i()(),t(10,"div",5)(11,"label",6),s(12," Correo electr\xF3nico "),i(),t(13,"input",8),p("ngModelChange",function(r){return m(e.email,r)||(e.email=r),r}),i()(),t(14,"div",9)(15,"label",6),s(16," Contrase\xF1a "),i(),t(17,"input",10),p("ngModelChange",function(r){return m(e.password,r)||(e.password=r),r}),i()(),t(18,"button",11),y("click",function(){return e.register()}),f(19,W,2,0,"span",12)(20,F,2,0,"span",12),i(),t(21,"p",13),s(22," \xBFYa tienes cuenta? "),t(23,"a",14),s(24," Inicia sesi\xF3n "),i()()()()),o&2&&(a(4),g("ngIf",e.errorMessage),a(),g("ngIf",e.successMessage),a(4),d("ngModel",e.name),a(4),d("ngModel",e.email),a(4),d("ngModel",e.password),a(),g("disabled",e.loading),a(),g("ngIf",!e.loading),a(),g("ngIf",e.loading))},dependencies:[M,_,P,C,S,E],encapsulation:2})};export{R as RegisterPage};
