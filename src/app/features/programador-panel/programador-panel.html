<section class="p-6 max-w-6xl mx-auto">

  <h2 class="text-3xl font-bold mb-8 text-cyan-900">
    Panel del Programador
  </h2>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

    <!-- ===================== -->
    <!-- MIS PROYECTOS -->
    <!-- ===================== -->

    <div class="card bg-white p-6 shadow-xl rounded-xl">

      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-semibold text-cyan-800">
          Mis Proyectos
        </h3>

        <button
          (click)="crearProyecto('Nuevo Proyecto', 'Descripción del proyecto')"
          class="btn btn-primary btn-sm">
          + Nuevo
        </button>
      </div>

      <div class="divider"></div>

      <div *ngIf="proyectos.length === 0" class="text-gray-500 text-sm mt-4">
        No tienes proyectos registrados.
      </div>

      <ul>
        <li *ngFor="let p of proyectos" class="border-b py-4">

          <div class="flex justify-between items-start">

            <div>
              <div class="font-bold text-lg text-gray-800">
                {{ p.name }}
              </div>

              <div class="text-sm text-gray-600 mt-1">
                {{ p.description }}
              </div>
            </div>

            <div class="flex gap-2">

              <button
                (click)="editarProyecto(p)"
                class="btn btn-sm btn-outline">
                Editar
              </button>

              <button
                (click)="eliminarProyecto(p.id)"
                class="btn btn-sm btn-error">
                Eliminar
              </button>

            </div>

          </div>

        </li>
      </ul>

    </div>


    <!-- ===================== -->
    <!-- ASESORÍAS -->
    <!-- ===================== -->

    <div class="card bg-white p-6 shadow-xl rounded-xl">

      <h3 class="text-xl font-semibold text-cyan-800 mb-4">
        Solicitudes de Asesoría
      </h3>

      <div class="divider"></div>

      <div *ngIf="asesorias.length === 0" class="text-gray-500 text-sm mt-4">
        No tienes solicitudes de asesoría.
      </div>

      <ul>
        <li *ngFor="let a of asesorias" class="border-b py-4">

          <div class="font-semibold text-gray-800">
            {{ a.date }} {{ a.time }}
          </div>

          <div class="text-sm text-gray-600">
            Estado:
            <span
              [ngClass]="{
                'text-yellow-600': a.status === 'PENDING',
                'text-green-600': a.status === 'APPROVED',
                'text-red-600': a.status === 'REJECTED'
              }">
              {{ a.status }}
            </span>
          </div>

          <div class="text-sm mt-2 text-gray-700">
            {{ a.comment }}
          </div>

          <div
            *ngIf="a.status === 'PENDING'"
            class="mt-3 flex gap-2">

            <button
              (click)="responderAsesoria(a.id, 'approve')"
              class="btn btn-success btn-sm">
              Aprobar
            </button>

            <button
              (click)="responderAsesoria(a.id, 'reject')"
              class="btn btn-error btn-sm">
              Rechazar
            </button>

          </div>

        </li>
      </ul>

    </div>

  </div>

</section>
